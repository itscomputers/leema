import http

func action(req: http::Request): http::Response ->
    cout("wow, handling http!")
    http::ok200()
--

func main() ->
   let s := http::bind("0.0.0.0", 3999)
   cout("started http on 3999: $s\n")
   let tx := http::accept(s)
   cout("accepted: $tx\n")
   let req := http::request(tx)
   cout("request: $req\n")
--

